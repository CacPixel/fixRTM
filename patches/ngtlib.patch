diff --git a/mods/ngtlib.deobf.jar.src.processed/jp/ngt/ngtlib/command/CommandPermit.jasm b/src/main/ngtlib/jp/ngt/ngtlib/command/CommandPermit.jasm
index 89cf20c..bb3eb7d 100644
--- a/mods/ngtlib.deobf.jar.src.processed/jp/ngt/ngtlib/command/CommandPermit.jasm
+++ b/src/main/ngtlib/jp/ngt/ngtlib/command/CommandPermit.jasm
@@ -42,56 +42,57 @@ L_0004:
     .limit local 2
 L_0000:
     .line 29
     .var 0 is this Ljp/ngt/ngtlib/command/CommandPermit; from L_0000 to L_0004
     .var 1 is sender Lnet/minecraft/command/ICommandSender; from L_0000 to L_0004
     ldc "commands.permit.usage"
     areturn
 L_0004:
 .end method
 
+.method private static getPlayerOrNull "(Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;"
+    .limit stack 1
+    .limit local 1
+    .catch net/minecraft/command/PlayerNotFoundException from L_start to L_catch using L_catch
+
+L_start:
+    .line 1038
+    .var 0 is sender Lnet/minecraft/command/ICommandSender; from L_start to L_end
+    aload 0
+    invokestatic jp/ngt/ngtlib/command/CommandPermit/getCommandSenderAsPlayer (Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;
+    areturn
+L_catch:
+    .line 1042
+    .stack
+        locals Object net/minecraft/command/ICommandSender
+        stacks Object net/minecraft/command/PlayerNotFoundException
+    .end stack
+    pop
+    aconst_null
+    areturn
+L_end:
+
+.end method
+
 .method public execute "(Lnet/minecraft/server/MinecraftServer;Lnet/minecraft/command/ICommandSender;[Ljava/lang/String;)V"
     .throws net/minecraft/command/CommandException
     .limit stack 4
     .limit local 7
-    .catch net/minecraft/command/PlayerNotFoundException from L_0000 to L_0005 using L_0008
 L_0000:
-    .line 38
+    .line 43
     .var 0 is this Ljp/ngt/ngtlib/command/CommandPermit; from L_0000 to L_009c
     .var 1 is server Lnet/minecraft/server/MinecraftServer; from L_0000 to L_009c
     .var 2 is sender Lnet/minecraft/command/ICommandSender; from L_0000 to L_009c
     .var 3 is args "[Ljava/lang/String;" from L_0000 to L_009c
-    aload 2
-    invokestatic jp/ngt/ngtlib/command/CommandPermit/getCommandSenderAsPlayer (Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;
+    aconst_null
     astore 4
-L_0005:
-    .line 44
-    .var 4 is player Lnet/minecraft/entity/player/EntityPlayerMP; from L_0005 to L_0008
-    goto L_0013
-L_0008:
-    .line 40
-    .stack
-        locals Object jp/ngt/ngtlib/command/CommandPermit
-        locals Object net/minecraft/server/MinecraftServer
-        locals Object net/minecraft/command/ICommandSender
-        locals Object "[Ljava/lang/String;"
-        stacks Object net/minecraft/command/PlayerNotFoundException
-    .end stack
-    astore 5
-L_000c:
-    .line 42
-    .var 5 is e Lnet/minecraft/command/PlayerNotFoundException; from L_000c to L_0013
-    aload 5
-    invokevirtual net/minecraft/command/PlayerNotFoundException/printStackTrace ()V
-L_0010:
-    .line 43
-    return
+
 L_0013:
     .line 46
     .var 4 is player Lnet/minecraft/entity/player/EntityPlayerMP; from L_0013 to L_009c
     .stack
         locals Object jp/ngt/ngtlib/command/CommandPermit
         locals Object net/minecraft/server/MinecraftServer
         locals Object net/minecraft/command/ICommandSender
         locals Object "[Ljava/lang/String;"
         locals Object net/minecraft/entity/player/EntityPlayerMP
     .end stack
@@ -102,44 +103,46 @@ L_0019:
     .line 48
     aload 3
     iconst_0
     aaload
     ldc "list"
     invokevirtual java/lang/String/equals (Ljava/lang/Object;)Z
     ifeq L_0029
 L_0021:
     .line 50
     getstatic jp/ngt/ngtlib/util/PermissionManager/INSTANCE Ljp/ngt/ngtlib/util/PermissionManager;
-    aload 4
+    aload 2
+    invokestatic jp/ngt/ngtlib/command/CommandPermit/getCommandSenderAsPlayer (Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;
     invokevirtual jp/ngt/ngtlib/util/PermissionManager/showPermissionList (Lnet/minecraft/entity/player/EntityPlayer;)V
 L_0026:
     .line 51
     return
 L_0029:
     .line 53
     .stack use locals
     .end stack
     aload 3
     iconst_0
     aaload
     ldc "myname"
     invokevirtual java/lang/String/equals (Ljava/lang/Object;)Z
     ifeq L_0044
 L_0032:
     .line 55
-    aload 4
+    aload 2
     new java/lang/StringBuilder
     dup
     invokespecial java/lang/StringBuilder/<init> ()V
     ldc "My name is "
     invokevirtual java/lang/StringBuilder/append (Ljava/lang/String;)Ljava/lang/StringBuilder;
-    aload 4
+    aload 2
+    invokestatic jp/ngt/ngtlib/command/CommandPermit/getCommandSenderAsPlayer (Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;
     invokevirtual net/minecraft/entity/player/EntityPlayerMP/getName ()Ljava/lang/String;
     invokevirtual java/lang/StringBuilder/append (Ljava/lang/String;)Ljava/lang/StringBuilder;
     invokevirtual java/lang/StringBuilder/toString ()Ljava/lang/String;
     iconst_0
     anewarray java/lang/Object
     invokestatic jp/ngt/ngtlib/io/NGTLog/sendChatMessage "(Lnet/minecraft/command/ICommandSender;Ljava/lang/String;[Ljava/lang/Object;)V"
 L_0041:
     .line 56
     return
 L_0044:
@@ -168,21 +171,22 @@ L_0057:
     .var 6 is target Ljava/lang/String; from L_0057 to L_007c
     aload 3
     iconst_0
     aaload
     ldc "add"
     invokevirtual java/lang/String/equals (Ljava/lang/Object;)Z
     ifeq L_0069
 L_005f:
     .line 65
     getstatic jp/ngt/ngtlib/util/PermissionManager/INSTANCE Ljp/ngt/ngtlib/util/PermissionManager;
-    aload 4
+    aload 2
+    invokestatic jp/ngt/ngtlib/command/CommandPermit/getPlayerOrNull (Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;
     aload 5
     aload 6
     invokevirtual jp/ngt/ngtlib/util/PermissionManager/addPermission (Lnet/minecraft/entity/player/EntityPlayer;Ljava/lang/String;Ljava/lang/String;)V
 L_0066:
     .line 66
     return
 L_0069:
     .line 68
     .stack
         locals Object jp/ngt/ngtlib/command/CommandPermit
@@ -195,58 +199,59 @@ L_0069:
     .end stack
     aload 3
     iconst_0
     aaload
     ldc "remove"
     invokevirtual java/lang/String/equals (Ljava/lang/Object;)Z
     ifeq L_007c
 L_0072:
     .line 70
     getstatic jp/ngt/ngtlib/util/PermissionManager/INSTANCE Ljp/ngt/ngtlib/util/PermissionManager;
-    aload 4
+    aload 2
+    invokestatic jp/ngt/ngtlib/command/CommandPermit/getPlayerOrNull (Lnet/minecraft/command/ICommandSender;)Lnet/minecraft/entity/player/EntityPlayerMP;
     aload 5
     aload 6
     invokevirtual jp/ngt/ngtlib/util/PermissionManager/removePermission (Lnet/minecraft/entity/player/EntityPlayer;Ljava/lang/String;Ljava/lang/String;)V
 L_0079:
     .line 71
     return
 L_007c:
     .line 76
     .stack
         locals Object jp/ngt/ngtlib/command/CommandPermit
         locals Object net/minecraft/server/MinecraftServer
         locals Object net/minecraft/command/ICommandSender
         locals Object "[Ljava/lang/String;"
         locals Object net/minecraft/entity/player/EntityPlayerMP
     .end stack
-    aload 4
+    aload 2
     ldc "/permit add <player> <category>"
     iconst_0
     anewarray java/lang/Object
     invokestatic jp/ngt/ngtlib/io/NGTLog/sendChatMessage "(Lnet/minecraft/command/ICommandSender;Ljava/lang/String;[Ljava/lang/Object;)V"
 L_0084:
     .line 77
-    aload 4
+    aload 2
     ldc "/permit remove <player> <category>"
     iconst_0
     anewarray java/lang/Object
     invokestatic jp/ngt/ngtlib/io/NGTLog/sendChatMessage "(Lnet/minecraft/command/ICommandSender;Ljava/lang/String;[Ljava/lang/Object;)V"
 L_008b:
     .line 78
-    aload 4
+    aload 2
     ldc "/permit list"
     iconst_0
     anewarray java/lang/Object
     invokestatic jp/ngt/ngtlib/io/NGTLog/sendChatMessage "(Lnet/minecraft/command/ICommandSender;Ljava/lang/String;[Ljava/lang/Object;)V"
 L_0092:
     .line 79
-    aload 4
+    aload 2
     ldc "/permit myname"
     iconst_0
     anewarray java/lang/Object
     invokestatic jp/ngt/ngtlib/io/NGTLog/sendChatMessage "(Lnet/minecraft/command/ICommandSender;Ljava/lang/String;[Ljava/lang/Object;)V"
 L_0099:
     .line 80
     return
 L_009c:
 .end method
 
diff --git a/mods/ngtlib.deobf.jar.src.processed/jp/ngt/ngtlib/util/PermissionManager.jasm b/src/main/ngtlib/jp/ngt/ngtlib/util/PermissionManager.jasm
index e394adf..b6c8387 100644
--- a/mods/ngtlib.deobf.jar.src.processed/jp/ngt/ngtlib/util/PermissionManager.jasm
+++ b/src/main/ngtlib/jp/ngt/ngtlib/util/PermissionManager.jasm
@@ -665,20 +665,39 @@ L_000a:
     invokevirtual jp/ngt/ngtlib/util/PermissionManager/getPlayerList (Ljava/lang/String;)Ljava/util/List;
     aload 1
     invokevirtual net/minecraft/entity/player/EntityPlayer/getName ()Ljava/lang/String;
     invokeinterface java/util/List/contains (Ljava/lang/Object;)Z
     ifeq L_0018
 L_0014:
     .line 148
     iconst_1
     ireturn
 L_0018:
+
+    .line 1146
+    .stack use locals
+    .end stack
+    getstatic com/anatawa12/fixRtm/asm/config/MainConfig/addAllowAllPermissionEnabled Z
+    ifeq L_if_has_not_all_permit
+    .line 1147
+    aload 0
+    ldc "fixrtm.all_permit"
+    invokevirtual jp/ngt/ngtlib/util/PermissionManager/getPlayerList (Ljava/lang/String;)Ljava/util/List;
+    aload 1
+    invokevirtual net/minecraft/entity/player/EntityPlayer/getName ()Ljava/lang/String;
+    invokeinterface java/util/List/contains (Ljava/lang/Object;)Z
+    ifeq L_if_has_not_all_permit
+    .line 1148
+    iconst_1
+    ireturn
+L_if_has_not_all_permit:
+
     .line 152
     .stack use locals
     .end stack
     ldc "%s need permission (%s)."
     iconst_2
     anewarray java/lang/Object
     dup
     iconst_0
     aload 1
     invokevirtual net/minecraft/entity/player/EntityPlayer/getName ()Ljava/lang/String;
@@ -704,20 +723,32 @@ L_0000:
     .var 1 is player Lnet/minecraft/entity/player/EntityPlayer; from L_0000 to L_003f
     getstatic jp/ngt/ngtlib/util/PermissionManager/DEBUG_MODE Z
     ifne L_000a
     invokestatic jp/ngt/ngtlib/util/NGTUtil/isSMP ()Z
     ifne L_000a
 L_0006:
     .line 162
     iconst_1
     ireturn
 L_000a:
+
+    .line 1164
+    .stack
+        locals Object jp/ngt/ngtlib/util/PermissionManager
+        locals Object net/minecraft/entity/player/EntityPlayer
+    .end stack
+    aload 1
+    ifnonnull L_player_non_null
+    iconst_1
+    ireturn
+L_player_non_null:
+
     .line 164
     .stack
         locals Object jp/ngt/ngtlib/util/PermissionManager
         locals Object net/minecraft/entity/player/EntityPlayer
     .end stack
     aload 1
     instanceof net/minecraft/entity/player/EntityPlayerMP
     ifeq L_003a
 L_0010:
     .line 166
